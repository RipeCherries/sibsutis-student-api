# Установка базового образа - NodeJS v.22
FROM node:22

# Установка рабочей директории контейнера
WORKDIR /usr/src/app

# Копирование файлов зависимостей в рабочую директорию контейнера
COPY package*.json ./

# Установка зависимостей
RUN npm install

# Копирование всех файлов из текущей директории в рабочую директорию контейнера
COPY . .

# Сборка проекта
RUN npm run build

# Порт, который будет прослущивать контейнер
EXPOSE 8002

# Установка команды по умолчанию для запуска контейнера
CMD [ "npm", "run", "start" ]